(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfjBQINORAlBor6AAAD70lEQVRIx5XVSWzUdRQH8E+HKUMXoENLSwsoINCCCGUJq0CJB2NigCibQDAxRupBwkEPJsYTZyKeMGkiawAxAZegNGhSGkAllcVCYUBMCXShlCEMM6UUOh46tIXSRN/p/fN/v+977/s2+pNRKjyQlHTfFgX+p2R5S8wFhx12RdQiwecbBp75Sktp2Yo9sM1GG30tabzs1J+g9N5Pgr20lVZId9hhd+Up9dAZzTjnodmq3ZNvhaUSDjjo0dMAQRu8r8hAE7zqprmmuu0quChuqXHOGGW2DO3yZdjVBTEgBbBWuUy7HJFroZcFHbXDGUm0aZRQYpaxTtvuslJTJfyFVM5Z9pukwl73TDPPIGddcl1bCj7TaMWmiTupVo51PlBrlfaeFIYaqN5tbU6qla5FZy+mEi6LOKVDzGNJjUIyJXtSeGyEUumuatapTVxSmpAXjVMkQ0KnpIQHkgJKbZBvj5M9JHbaZ6bF/vC3WKqMk800yXBpbqlT46L7YLD55jvh4NNVqFdvjrCQGIZZZL35WkQxyQon7VElioGydbqhqQcgKEu+Ke646A6yLfKJkSr9JIKJ3lBmhKRj4m47544ZirWIaR+gQKkF3rbQMT9qkabUh0pU+MxZTZpcUCmkTJ6IRkkUWaxQniESbHHXHU2uWScLIeUa7JT5VJNn2qlBuRAyrHJZg1Yx24i55nPLjDcIjPOl89b0mZo1zttmbCrxQmU2uyQRlO24rzR3G4YNFxXpAxARlS/sHzzSqFGdJYoDfQyTejr0P0hAu3HeNN2Q1GhH3RI2oY/lRGHNoiBdoSXeUSxBhZgWN9RaKaObxF19SNzlpo0pEleLaNDqnq0D/Om0qx6arM0lrTqlGW2+DKd1dD//2HKnfOsGXrJKqaP22e5Q1yyOMNlRZy0XQJZlqtXbba1ZZllrt3rVlspCwDJnVSqRK9TViXFxzX633nS/aRJ3XNI6rykVRViuantViyPPVDl+Fuma1yezEDZSyINU0FG/aPCrEgWocUmNOnHQLibgBQUae5P0njo/WNxrR6YJGWOGGcYI9SprwGz7XbGp9/M032tQbijSZBn2nD4IyJeT4uhdN1R2OQumADp0CBus3UTzhNU9tdIyvKDEVPedcFGOQu3iXU6eLJRvjLDSI/Vet0S6VidUOaQDQUstskCOgLmOKLRakwNdfD0JtWut5wp57IzrXjHFPWUaUajKYLVqjDbHIO2aVNj95DLohljrO1U+NUZAiR0alIEyDXYoEVBok0qHrOnv0GXKTE1Enk1abVagwGatPpLb7aif0waJbu2+iIHKlaFEukhqpXo28P6lyBfikpLitirsz+xfjLFN4q4gcpMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDUtMDJUMTE6NTc6MTYrMDI6MDC7WccxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA1LTAyVDExOjU3OjE2KzAyOjAwygR/jQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},121:function(e,t,a){e.exports=a.p+"static/media/youtube-2.02f39dff.png"},122:function(e,t,a){e.exports=a.p+"static/media/video-camera.e0e24162.png"},123:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAI63AACOtwF1rKozAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAEtQTFRF////AK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2XAK2Xmw/GjgAAABh0Uk5TAAECLS4vMDFiiI+XmJmam5ydnurr7O3+yCT84QAABaZJREFUeNrt0gdyVFEQBEEtwnvPu/9JicAbmTV/A0aVeYTuurgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgJjdk0sjTPDo6e4s/z9b7xQw4f+P6+29s/y/FDDj/3WGAr78r4Ah/29fwLf/FTDk/60L+PG/Aob8v20Bv/yvgCH/b1nA7vlaCpj2/3YF/PG/Aob8v1UBf/2vgCH/b1PAFf8rYMj/WxRw5f8KGPL/6QVc878Chvx/agG7F2spYPL/pxVww/8KGPL/KQXc+L8Chvx/fAG3/K+AIf8fW8Ct/ytgyP/HFbDH/woY8v8xBexerqWAu/L/4QXs+b8Chvx/aAF7/6+AIf8fVsAB/ytgyP+HFHDQ/woY8v/+BRz4vwKG/L9vAbtXayngLv6/XwFH/K+AIf/vU8BR/ytgyP+3F3Dk/woY8v9tBRz9vwKG/H9zASf8r4Ah/99UwEn/K2DI/9cXsHu9lgLu/v/XFXDy/woY8v/VBWzwvwKG/H9VAZv8r4Ah//9dwEb/K2DI/38WsNn/Chjy/+8F7N6spYDW/78WsOn/Chjy/88CNv5fAUP+/17A5v8rYMj/Xws4w/8KGPL/lwJeraWAAR5+PMtRry8ef1JA9/9Pjy8UEP9fAfX/FVD/XwH1/xVQ/18B9f8VUP9fAfX/FVD/XwH1/xVQ/18B9f8VUP9fAfX/FVD/XwH1/xVQ/18B9f8VUP9fAfX/FVD/XwH1/xVQ/18B9f8VUP9fAf/i/w//0f8KqP+vgPr/Cqj/r4D6/wqo/6+A+v8KqP+vgPr/Cqj/r4D6/wqo/6+A+v8KqP+vgPr/Cqj/r4AzeDDpfwXU/1dA/X8F1P9XQP1/BdT/V0D9fwXU/1dA/X8F1P9XQP1/BdT/V0D9fwXU/1dA/X8F1P9XQP1/BdT/V0D9fwXU/1dA/X8F1P9XQP1/BdT/V0D9fwXU/1dA/X8F1P9XQP1/BdT/V0D9fwXU/1dA/X8F1P9XQP1/BdT/V0D9fwXU/1dA/X8F1P9XQP1/BdT/zxeQ/z9ewH3/pwvwf7sA/7cL8H+7AP+3C/B/uwD/twvwf7sA/7cLuP/e/+UC/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QIu/Z8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAvzfLsD/7QL83y7A/+0C/N8uwP/tAi7f+b9cgP/bBfi/XYD/2wX4v12A/9sF+D9egP/jBfhfAf5XgP8V4H8F+F8B/leA/xXgfwX4XwH+V4D/FeB/BfhfAf5XgP8V4H8F+F8B/leA/xXgfwX4XwH+jxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af5vF+D/dgH+bxfg/3YB/m8X4P92Af6PF+B/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALgLPgNWAfm+/G0mJAAAAABJRU5ErkJggg=="},126:function(e,t,a){},153:function(e,t){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),l=a.n(o),s=(a(87),a(3)),i=a(2),c=a(10),m=a(7),u=a(9),d=a(16),p=a(27),h=a(38),g=a.n(h),A=a(14),E=a.n(A),f=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},v=a(81),b="GET_ERRORS",y=function(e){return{type:"SET_CURRENT_USER",payload:e}};var O=function(){return function(e){return e({type:"USER_IMG_UPLOADING"})}},j=function(){return function(e){localStorage.removeItem("jwtToken"),f(!1),e(y({})),setTimeout(function(){e({type:"CLEAR_USER_COIN"}),e({type:"CLEAR_STREAM_DATA"})},3e3)}},N=function(){return function(e){return e({type:"USER_DONATE_DETAILS_LOADING"})}},C=a(13),S=a(25),D=a(75),w=a(12),k=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},_={isAuthenticated:!1,user:{},img:null,updated:!1,userImgLoading:!1,text:null,loading:!1,donateList:null},T={msg:{}},L={streamId:null,streamKey:null,streamName:null,streamHost:null,streamCate:null,streamDetail:null,streamCateList:null,streamImg:null,streamUpdated:!1,updated:!1,loading:!1,uploadImgLoading:!1,playlist:[],current:0},U={coin:0,loading:!1,details:[],new:!1,donate:!1,donate_data:""},I=a(15),R=a(40),P={errors:{msg:null},videoupload:!1,VideoCreateDetail:null,getUserVideoLoding:!1,userVideoList:[],views:[],allvideolistloading:!1,allvideolist:[],editVideoload:!1},V=Object(S.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(w.a)({},e,{isAuthenticated:!k(t.payload),user:t.payload,img:t.payload.img,updated:!1});case"UPDATE_USER_EMAIL":return Object(w.a)({},e,{updated:!0});case"UPDATE_USER_IMG":return console.log(t.payload),Object(w.a)({},e,{img:t.payload.img,updated:!0,userImgLoading:!1});case"USER_IMG_UPLOADING":return Object(w.a)({},e,{userImgLoading:!0});case"USER_DONATE_DETAILS":return Object(w.a)({},e,{donateList:t.payload,loading:!1});case"USER_DONATE_DETAILS_LOADING":return Object(w.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{msg:t.payload};default:return e}},stream:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STREAM_LOADING":return Object(w.a)({},e,{loading:!0});case"IMG_UPLOAD_LOADING":return Object(w.a)({},e,{uploadImgLoading:!0});case"SET_STREAM_KEY":return Object(w.a)({},e,{streamKey:t.payload.Key,streamName:t.payload.Name,streamHost:t.payload.host,streamId:t.payload.id,streamDetail:t.payload.Detail,streamCate:t.payload.Cate,loading:!1});case"CLEAR_STREAM_DETAIL":return Object(w.a)({},e,{streamKey:null,streamName:null,streamHost:null,streamId:null,current:0});case"SET_STREAM_DATA":return Object(w.a)({},e,{streamName:t.payload.stream_name,streamCate:t.payload.stream_id,streamDetail:t.payload.stream_detail,updated:!0});case"GET_STREAM_DATA":return Object(w.a)({},e,{streamName:t.payload.stream_name,streamCate:t.payload.stream_id,streamDetail:t.payload.stream_detail,streamImg:t.payload.stream_img});case"SET_CURRENT_AMOUNT":return Object(w.a)({},e,{current:t.payload});case"SET_CURRENT_STREAM":return Object(w.a)({},e,{playlist:t.payload,loading:!1});case"SET_STREAMCATE_LIST":return Object(w.a)({},e,{streamCateList:t.payload,loading:!1});case"UPDATE_STREAM_IMG":return Object(w.a)({},e,{streamUpdated:!0,uploadImgLoading:!1});case"CLEAR_USER_STREAM_SETTING":return{streamId:null,streamKey:null,streamName:null,streamHost:null,streamCate:null,streamDetail:null,streamCateList:null,updated:!1,loading:!1,current:0};case"CLEAR_STREAM_DATA":return L;default:return e}},coin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_COIN":return Object(w.a)({},e,{coin:t.payload,donate:!1,new:!0});case"USER_BUY_COIN":return Object(w.a)({},e,{new:!1});case"ORDER_LOADING":return Object(w.a)({},e,{loading:!0});case"GET_ORDER_DETAIL":return Object(w.a)({},e,{details:t.payload,loading:!1});case"DONATE_COIN":return Object(w.a)({},e,{donate_data:t.payload,donate:!0,new:!1});case"CLEAR_USER_COIN":return U;case"CHANGE_DONATE_STATE":return Object(w.a)({},e,{donate:!1});default:return e}},video:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_YT_VIDEO":case"UPLOAD_VIDEO":return e.userVideoList.splice(0,1),Object(w.a)({},e,{videoupload:!1,userVideoList:[t.payload].concat(Object(R.a)(e.userVideoList))});case"UPLOAD_VIDEO_LOADING":return Object(w.a)({},e,{videoupload:!0,userVideoList:[t.payload].concat(Object(R.a)(e.userVideoList))});case"GET_USER_VIDEO_LIST":return t.payload,Object(w.a)({},e,{getUserVideoLoding:!1,userVideoList:t.payload});case"GET_USER_VIDEO_LIST_LOADING":return Object(w.a)({},e,{getUserVideoLoding:!0});case"USER_VIEW_VIDEO":return Object(w.a)({},e,{views:Object(I.a)({},t.payload.video_path,t.payload.views)});case"DELETE_USER_VIDEO":return Object(w.a)({},e,{userVideoList:e.userVideoList.filter(function(e){return e.video_path!==t.payload.video_path})});case"GET_VIDEO_UPLOAD_LIST_LOADING":return Object(w.a)({},e,{allvideolistloading:!0});case"GET_VIDEO_UPLOAD_LIST":return Object(w.a)({},e,{allvideolist:t.payload,allvideolistloading:!1});case"EDIT_VIDEO":return Object(w.a)({},e,{editVideoload:!1});case"EDIT_VIDEO_LOADING":return Object(w.a)({},e,{editVideoload:!0});default:return e}}}),x=[D.a],X=Object(S.e)(V,{},Object(S.d)(S.a.apply(void 0,x))),M=a(76),F=Object(C.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(M.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))}),G=(a(117),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(I.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};a.props.login(n)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=e.img,o=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("img",{id:"user_img",alt:"user img",src:n})," ",a.name," !"),r.a.createElement("div",{id:"dropdown",className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement(d.b,{className:"dropdown-item",to:"a."+a.name},"Stream Room"),r.a.createElement(d.b,{className:"dropdown-item",to:"/dashboard"},"Stream Dashboard"),r.a.createElement(d.b,{className:"dropdown-item",to:"/coindashboard"},"My Coins"),r.a.createElement(d.b,{className:"dropdown-item",to:"/donatelist"},"Donate History"),r.a.createElement(d.b,{className:"dropdown-item",to:"/setting"},"Setting"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/",onClick:this.onLogoutClick.bind(this),className:"nav-link"},"Logout"))),l=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"nav-link",to:"/register"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"nav-link",to:"/login"},"Login")));return r.a.createElement("nav",{id:"nav-fix",className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(d.b,{className:"navbar-brand",to:"/"},"Live Stream"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"nav-link",to:"/list"}," Live list"))),t?o:l)))}}]),t}(n.Component)),B=Object(C.b)(function(e){return{auth:e.auth,coin:e.coin}},{logoutUser:j})(G);function K(){return r.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"})}var Q=a(4),H=a(6),W=a.n(H),J=function(e){return{type:"UPLOAD_VIDEO_LOADING",payload:{id:null,user_id:"loading",video_name:e.name,video_path:"file uploading",video_url:"file uploading",views:0}}},Y=function(){return{type:"GET_USER_VIDEO_LIST_LOADING"}},Z=function(){return function(e){e({type:"GET_VIDEO_UPLOAD_LIST_LOADING"})}},q=function(){return function(e){e({type:"EDIT_VIDEO_LOADING"})}},z=a(167),$=a(168),ee=a(169),te=(a(118),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={url:"",error:null,errors:{}},e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e.handChange=e.handChange.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){var t=e.target.files,a=new FileReader;a.readAsDataURL(t[0]),a.onload=function(e){},-1===t[0].type.indexOf("video")?alert("file type errors, only access video type"):this.props.uploadVideo(t[0])}},{key:"handChange",value:function(e){var t;this.setState((t={},Object(I.a)(t,e.target.name,e.target.value),Object(I.a)(t,"errors",{}),t))}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.url;if(-1===t.indexOf("https://www.youtube.com/")&&-1===t.indexOf("https://m.youtube.com/")&&-1===t.indexOf("https://youtu.be/")){var a={url:this.state.url};console.log(a),this.setState({errors:{msg:"invalid URL"}})}else{var n={url:this.state.url};console.log(n),this.props.uploadYtVideo(n),this.setState({url:"",errors:{}})}}},{key:"render",value:function(){var e=this,t=this.state.errors;return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"container"},r.a.createElement(z.a,{body:!0},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.onSubmit},r.a.createElement($.a,{type:"button",id:"label-upload",className:"btn btn-block",htmlFor:"upload-img"},"Upload"),r.a.createElement(ee.a,{type:"file",id:"upload-img",onChange:function(t){return e.onChange(t)},style:{display:"none"}}))),r.a.createElement("div",{className:"col-10"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",className:W()("form-control form-control-lg",{"is-invalid":t.msg}),placeholder:"Input youtube URL to upload",name:"url",value:this.state.url,onChange:this.handChange}),t.msg&&r.a.createElement("div",{className:"invalid-feedback"},t.msg)))))))}}]),t}(n.Component)),ae=Object(C.b)(function(e){return{auth:e.auth,video:e.stream,errors:e.errors}},{uploadVideo:function(e){return function(t){console.log(e),t(J(e));var a=new FormData;a.append("file",e),E.a.post("/api/video/upload",a).then(function(e){return t({type:"UPLOAD_VIDEO",payload:e.data})}).catch(function(e){return t({type:b,payload:e.response.data})})}},uploadYtVideo:function(e){return function(t){t(J({name:"upload"})),E.a.post("/api/video/ytdl",e).then(function(e){t({type:"UPLOAD_YT_VIDEO",payload:e.data})}).catch(function(e){return t({type:b,payload:e.response.data})})}}})(te),ne=a(80),re=a.n(ne);function oe(){return r.a.createElement("div",null,r.a.createElement("img",{src:re.a,style:{width:"20px",margin:"auto",display:"block"},alt:"Loading..."}))}var le=a(170),se=a(171),ie=a(172),ce=a(173),me=(a(119),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={userVideoListState:null,videoupload:!1,Delete:!1,errors:{msg:""}},e.onClick=e.onClick.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserVideoList()}},{key:"componentWillReceiveProps",value:function(e){e.video.userVideoList&&this.setState({userVideoListState:e.video.userVideoList})}},{key:"onClick",value:function(e){var t=this;this.props.deleteUserVideo({video_path:e.target.name}),this.setState({Delete:!0}),setTimeout(function(){t.setState({Delete:!1})},3e3)}},{key:"render",value:function(){var e=this,t=this.props.video.getUserVideoLoding,n=this.state,o=n.userVideoListState,l=n.Delete;return t||null===o?r.a.createElement("div",{className:"container"},r.a.createElement(ae,null),r.a.createElement("h5",{id:"loading"},"\u8cc7\u6599\u6e96\u5099\u4e2d..."),r.a.createElement(oe,null)):r.a.createElement("div",{className:"container"},r.a.createElement(ae,null),l?r.a.createElement("div",{className:"alert alert-danger msg",role:"alert"},"\u522a\u9664\u6210\u529f"):null,0===o.length?r.a.createElement("h4",null,"No Video Create"):r.a.createElement("div",{id:"flex",className:"row"},o.map(function(t,n){return r.a.createElement("div",{id:"flex-container",className:"col-4 mb-3",key:n},r.a.createElement(z.a,null,r.a.createElement(le.a,null,r.a.createElement("video",{id:"video",src:t.video_url}),"loading"===t.user_id?r.a.createElement("div",null,r.a.createElement("h5",null,"\u8cc7\u6599\u4e0a\u50b3\u4e2d..."),r.a.createElement(oe,null)):null,r.a.createElement(se.a,{id:"video_name"},t.video_name),r.a.createElement(ie.a,{id:"video_path"},r.a.createElement(d.b,{target:"_blank",rel:"noopener noreferrer",to:"/video/"+t.video_path},"loading"===t.user_id?t.video_path:"https://www.wuhsun.com/video/"+t.video_path))),r.a.createElement(ce.a,{id:"card-footer",className:"text-muted"},r.a.createElement("div",{className:"card-footer-div"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("a",{href:"/",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("img",{id:"footer-div-img",src:a(120),alt:"settings icon"})),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},r.a.createElement(d.b,{className:"dropdown-item",to:"/edit/"+t.video_path},"Setting"),r.a.createElement("a",{className:"dropdown-item",name:t.video_path,"data-toggle":"modal",href:"/",key:n,onClick:function(t){e.onClick(t)}},"Delete")))),r.a.createElement("img",{id:"footer-img",src:a(42),alt:"eye icon"}),r.a.createElement("span",null,t.views))))}),r.a.createElement("div",null)))}}]),t}(n.Component)),ue=Object(C.b)(function(e){return{auth:e.auth,video:e.video,errors:e.errors}},{getUserVideoList:function(){return function(e){e(Y()),E.a.get("/api/video/list").then(function(t){e({type:"GET_USER_VIDEO_LIST",payload:t.data})}).catch(function(t){return e({type:b,payload:t.response.data})})}},deleteUserVideo:function(e){return function(t){console.log(e),E.a.post("/api/video/delete",e).then(function(a){t({type:"DELETE_USER_VIDEO",payload:e})}).catch(function(e){return t({type:b,payload:e.response.data})})}}})(me),de=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={errors:{}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.getAllUploadVideoList()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.props.video.allvideolist;return e?r.a.createElement(ue,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",{className:"display-3 mb-4"},"Live Stream"),r.a.createElement("p",{style:{fontSize:"28px"},className:"lead"},"Put The YouTube URL And Download Videos From Youtube"),r.a.createElement("img",{className:"land-img",style:{width:"108px"},src:a(121),alt:"youtube-video-img"}),r.a.createElement("p",{style:{fontSize:"28px",marginTop:"10px"},className:"lead"},"Start Live Stream And Share To Other People"),r.a.createElement("img",{className:"land-img",style:{width:"108px",marginLeft:"24px"},src:a(122),alt:"youtube-video-img"}),r.a.createElement("hr",null),r.a.createElement("img",{className:"land-img ml-1",style:{width:"56px",marginRight:"9px"},src:a(123),alt:"youtube-video-img"}),r.a.createElement("hr",null)))))),r.a.createElement("div",{className:"landing-2"},r.a.createElement("div",{className:"dark-overlay landing-inner-2 text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",null,"Recently other user updated"),0===t.length?null:r.a.createElement("div",{id:"flex",className:"row mt-3 mb-3"},t.map(function(e,t){return r.a.createElement("div",{id:"flex-container",className:"col-4 mb-3",key:t},r.a.createElement(z.a,null,r.a.createElement(le.a,null,r.a.createElement("video",{id:"video",src:e.video_url}),r.a.createElement(se.a,{id:"video_name",style:{color:"black"}},e.video_name),r.a.createElement(ie.a,{id:"video_path"},r.a.createElement(d.b,{target:"_blank",rel:"noopener noreferrer",to:"/video/"+e.video_path},"loading"===e.user_id?e.video_path:"https://www.wuhsun.com/video/"+e.video_path))),r.a.createElement(ce.a,{id:"card-footer",className:"text-muted"},r.a.createElement("div",{className:"card-footer-div"}),r.a.createElement("img",{id:"footer-img",src:a(42),alt:"eye icon"}),r.a.createElement("span",null,e.views))))}))))))))}}]),t}(n.Component),pe=Object(C.b)(function(e){return{auth:e.auth,video:e.video}},{getAllUploadVideoList:function(){return function(e){e(Z()),E.a.get("/api/video/alllist").then(function(t){e({type:"GET_VIDEO_UPLOAD_LIST",payload:t.data})}).catch(function(t){return e({type:b,payload:t.response.data})})}}})(de),he=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={name:"",email:"",password:"",password2:"",errors:{msg:""}},e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,password2:this.state.password2};this.props.registerUser(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors.msg,t=this.props.auth.user;return r.a.createElement("div",{className:"register"},t?t.name:null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Sign Up"),r.a.createElement("p",{className:"lead text-center"},"Create your Stream account"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:W()("form-control form-control-lg",{"is-invalid":e.name}),placeholder:"Name",name:"name",value:this.state.name,onChange:this.onChange}),e.name&&r.a.createElement("div",{className:"invalid-feedback"},e.name)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:W()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:W()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:W()("form-control form-control-lg",{"is-invalid":e.password2}),placeholder:"Confirm Password",name:"password2",value:this.state.password2,onChange:this.onChange}),e.password2&&r.a.createElement("div",{className:"invalid-feedback"},e.password2)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),ge=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){E.a.post("/api/user/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:b,payload:e.response.data})})}}})(Object(p.f)(he)),Ae=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={email:"",password:"",errors:{msg:""}},e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors.msg;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Log In"),r.a.createElement("p",{className:"lead text-center"},"Sign in to your account"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:W()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",onChange:this.onChange,value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:W()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),Ee=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){E.a.post("/api/user/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),f(a);var n=g()(a);t(y(n))}).catch(function(e){return t({type:b,payload:e.response.data})})}}})(Object(p.f)(Ae));var fe,ve=function(){return{type:"IMG_UPLOAD_LOADING"}},be=a(23),ye=function(e){return function(e){E.a.get("/api/coin").then(function(t){e({type:"GET_USER_COIN",payload:t.data.coin})})}},Oe=function(){return{type:"ORDER_LOADING"}},je=(a(126),a(174)),Ne=a(184),Ce=a(175),Se=a(176),De=a(177),we=a(178),ke=a(179),_e=a(180),Te=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).toggle=function(){e.setState({modal:!e.state.modal,errors:{msg:""}})},e.state={donate:!1,modal:!1,amount:"",errors:{msg:""}},e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e.toggle=e.toggle.bind(Object(Q.a)(Object(Q.a)(e))),e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={amount:this.state.amount,host:this.props.stream.streamId};console.log(t),this.props.donateCoin(t),this.setState({amount:""})}},{key:"onClick",value:function(e){e.preventDefault();var t=document.getElementById("message").value;fe.emit("msg",{message:t,user:this.props.auth.user.name,sender:fe.id}),document.getElementById("message").value=""}},{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated&&this.props.currnetCoin(this.props.auth.user.id),fe=a(127)("https://www.wuhsun.com/");var t=window.location.href.replace("https://www.wuhsun.com/a.","");fe.emit("addRoom",t),fe.on("addRoom",function(e){console.log("addRoom",e)}),fe.emit("updateAmount",window.location.href),fe.on("msg",function(e){console.log("msg",e),document.getElementById("output").innerHTML+="<p><strong>"+e.user+": </strong>"+e.message+'<span class="show" id="read"></span></p>'}),fe.on("amount",function(t){console.log("amount",t),e.props.setCurrentUser(t)}),fe.on("donateMsg",function(e){console.log("donateMsg",e),document.getElementById("output").innerHTML+="<p><strong>"+e.user+": </strong>\u6253\u8cde\u4e86"+e.amount+'!!<span class="show" id="read"></span></p>'})}},{key:"componentDidUpdate",value:function(){if(this.state.modal&&!0===this.state.donate){console.log("close the toggle"),this.toggle();var e={user:this.props.auth.user.name,amount:this.props.coin.donate_data.donate_user.coin};fe.emit("donateMsg",e),this.setState({donate:!1}),this.props.changeDonateProps(),this.props.currnetCoin(this.props.auth.user.id)}}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.coin.donate&&(this.setState({donate:!0}),console.log("send"))}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount","test"),console.log("this.props.stream.streamHost",this.props.stream.streamHost),fe.off("amount"),fe.off("msg"),fe.off("donateMsg"),fe.off("addRoom"),fe.emit("updateAmount",this.props.stream.streamHost),fe.emit("leave",this.props.stream.streamHost)}},{key:"render",value:function(){var e,t=this.props.coin.coin,a=this.state.errors.msg;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"mario-chat"},r.a.createElement("h5",{id:"title"},"\u804a\u5929\u5ba4"),r.a.createElement("span",{id:"title-span"},"\u73fe\u5728\u4eba\u6578: ",this.props.stream.current),r.a.createElement("div",{id:"chat-window"},r.a.createElement("div",{id:"output"}),r.a.createElement("div",{id:"feedback"})),r.a.createElement("form",{autoComplete:"off"},r.a.createElement("textarea",{id:"message",type:"text",placeholder:"\u53ef\u4ee5\u8f38\u5165\u8a0a\u606f"}),r.a.createElement(je.a,{className:"btn-block",color:"info",onClick:this.toggle},"donate"),r.a.createElement(Ne.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Ce.a,{toggle:this.toggle},"\u6253\u8cde\uff01"),r.a.createElement(Se.a,null,r.a.createElement(z.a,{body:!0,className:"text-center mb-3"},r.a.createElement(se.a,null,"\u4f60\u76ee\u524d\u6709",t," \u500bCoin"),r.a.createElement(De.a,null,"\u8cfc\u8cb7Coin \u4f86\u6253\u8cde\u4f60\u559c\u6b61\u7684\u5be6\u6cc1\u4e3b\uff01")),r.a.createElement(we.a,{onSubmit:this.onSubmit},r.a.createElement(ke.a,null,r.a.createElement($.a,{for:"item"},"\u6253\u8cde\u6578\u91cf"),r.a.createElement(ee.a,(e={type:"text",name:"amount",id:"amount",placeholder:"\u6578\u91cf",className:"mb-3"},Object(I.a)(e,"className",W()("mb-3 form-control form-control-lg",{"is-invalid":a.errors})),Object(I.a)(e,"onChange",this.onChange),Object(I.a)(e,"value",this.state.amount),e)),a.errors&&r.a.createElement("div",{className:"invalid-feedback"},a.errors),r.a.createElement(je.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Donate")))),r.a.createElement(_e.a,null,r.a.createElement(je.a,{color:"secondary",onClick:this.toggle},"Cancel")))),r.a.createElement("button",{type:"button",onClick:this.onClick.bind(this),className:"btn btn-block btn-dark"},"Send")))}}]),t}(n.Component),Le=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors,stream:e.stream,coin:e.coin}},{setCurrentUser:function(e){return{type:"SET_CURRENT_AMOUNT",payload:e}},donateCoin:function(e){return function(t){E.a.post("/api/donate",e).then(function(e){console.log(e),t({type:"DONATE_COIN",payload:e.data})}).catch(function(e){return t({type:b,payload:e.response.data})})}},currnetCoin:ye,changeDonateProps:function(){return function(e){e({type:"CHANGE_DONATE_STATE"})}}})(Te),Ue=(a(163),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={errors:{}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.streamRoom({user_name:this.props.match.params.user_name})}},{key:"componentDidUpdate",value:function(){var e=this.refs.vid;if(e&&be.a.isSupported()){var t=be.a.createPlayer({type:"flv",url:"https://www.wuhsun.com:8443/live/"+this.props.stream.streamKey+".flv"});t.attachMediaElement(e),t.load(),t.play()}}},{key:"componentWillUnmount",value:function(){this.props.clearSream()}},{key:"render",value:function(){var e=this.props.stream,t=e.streamKey,a=e.loading,n=e.streamName,o=e.streamCate,l=e.streamDetail;return null===t||a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Stream Loading...."),r.a.createElement(oe,null)):r.a.createElement("div",{id:"row"},r.a.createElement("div",{id:"streamVideo"},r.a.createElement("div",null,r.a.createElement("script",{src:"flv.min.js"}),r.a.createElement("video",{src:"vid",width:"100%",controls:!0}),r.a.createElement("h2",null,"\u5be6\u6cc1\u540d\u7a31\uff1a ",n," \xa0\xa0\xa0\xa0 \u4e3b\u984c\uff1a ",o),r.a.createElement("h5",null,"\u5be6\u6cc1\u7c21\u4ecb\uff1a ",l))),r.a.createElement("div",{id:"chat"},r.a.createElement(Le,null)))}}]),t}(n.Component)),Ie=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors,stream:e.stream,coin:e.coin}},{streamRoom:function(e){return function(t){E.a.post("/api/user/streamKey",e).then(function(e){return t({type:"SET_STREAM_KEY",payload:e.data})}).catch(function(e){return t({type:b,payload:e.response.data})})}},clearSream:function(){return{type:"CLEAR_STREAM_DETAIL"}}})(Ue),Re=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).toggle=function(){e.setState({modal:!e.state.modal,errors:{msg:""},img:"",preImg:"",text:"\u7576\u524d\u7167\u7247"}),e.setState({preImg:e.props.stream.streamImg}),e.setState({uploadImgLoading:!1})},e.state={text:"\u7576\u524d\u7167\u7247",files:"",fileName:"",modal:!1,preImg:null,streamUpdated:!1,uploadImgLoading:!1,errors:{msg:""}},e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){var t=this,a=e.target.files,n=new FileReader;n.readAsDataURL(a[0]),n.onload=function(e){t.setState({preImg:e.target.result})},this.setState({fileName:a[0].name}),this.setState({files:a[0]}),this.setState({text:"\u4f60\u6240\u9078\u7684\u7167\u7247"})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({files:""}),this.props.updateStreamImg(this.state.files)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.stream.streamUpdated&&this.setState({streamUpdated:e.stream.streamUpdated}),e.stream.uploadImgLoading&&this.setState({uploadImgLoading:!this.state.uploadImgLoading}),console.log(e)}},{key:"render",value:function(){var e,t,a=this,n=this.state.errors.msg,o=this.state,l=o.streamUpdated,s=o.uploadImgLoading;return e=!0===l?r.a.createElement("div",{className:"alert alert-success msg",role:"alert"},"\u7167\u7247\u66f4\u65b0\u6210\u529f\uff01"):null,t=!0===s&&!1===l?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"\u8cc7\u6599\u4e0a\u50b3\u4e2d..."),r.a.createElement(oe,null)):null,r.a.createElement("div",null,r.a.createElement(je.a,{className:"btn btn-block mt-3",onClick:this.toggle},"\u4fee\u6539\u5be6\u6cc1\u986f\u793a\u7167\u7247"),r.a.createElement(Ne.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Ce.a,null,"\u4fee\u6539\u5be6\u6cc1\u986f\u793a\u7167\u7247"),r.a.createElement(Se.a,null,t,e,r.a.createElement("h5",null,this.state.text),r.a.createElement("img",{src:this.state.preImg,alt:"stream img"}),r.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.onSubmit},r.a.createElement(ee.a,{type:"file",name:"file",onChange:function(e){return a.onChange(e)},className:W()("",{"is-invalid":n.img})}),n.img&&r.a.createElement("div",{className:"invalid-feedback"},n.img),r.a.createElement(je.a,{type:"submit",className:"btn btn-block mt-3"},"\u66f4\u65b0")))))}}]),t}(n.Component),Pe=Object(C.b)(function(e){return{auth:e.auth,stream:e.stream,errors:e.errors}},{updateStreamImg:function(e){return function(t){t(ve());var a=new FormData;a.append("file",e),function(e,t,a){return fetch(e,{body:t,headers:{Authorization:a},method:"POST"})}("https://www.wuhsun.com/api/stream/img_change",a,localStorage.jwtToken).then(function(e){t({type:"UPDATE_STREAM_IMG",payload:e.data})}).catch(function(e){return t({type:b,payload:e.response.data})})}}})(Re),Ve=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={value:"\u986f\u793a\u91d1\u9470",type:"password",stream_name:"",stream_cate:"",stream_detail:"",streamCateList:null,updated:!1,errors:{msg:""}},e.onClick=e.onClick.bind(Object(Q.a)(Object(Q.a)(e))),e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e.onListChange=e.onListChange.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getStreamCateList(),this.props.auth.user.id&&this.props.getStreamData(this.props.auth.user.id),this.setState({stream_name:this.props.streamName}),this.setState({stream_cate:this.props.streamCate})}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.stream.streamCate&&this.setState({stream_cate:e.stream.streamCate}),e.stream.streamName&&this.setState({stream_name:e.stream.streamName}),e.stream.streamDetail&&this.setState({stream_detail:e.stream.streamDetail}),e.stream.updated&&this.setState({updated:e.stream.updated}),e.stream.streamCateList&&this.setState({streamCateList:e.stream.streamCateList})}},{key:"componentWillUnmount",value:function(){this.setState({updated:!1}),this.props.clearState()}},{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onListChange",value:function(e){this.setState({stream_cate:e.target.value})}},{key:"onClick",value:function(e){"password"===this.state.type?this.setState({type:"text",value:"\u96b1\u85cf"}):this.setState({type:"password",value:"\u986f\u793a\u91d1\u9470"})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={stream_name:this.state.stream_name,stream_cate:this.state.stream_cate,stream_detail:this.state.stream_detail};this.props.setStreamData(t)}},{key:"render",value:function(){var e,t,a=this,n=this.state,o=n.updated,l=n.stream_cate,s=this.props.stream,i=s.streamCateList,c=s.loading,m=this.state.errors.msg;if(null===i||c)e=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u8cc7\u6599\u6e96\u5099\u4e2d...."),r.a.createElement(oe,null));else{var u;u=i.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}),e=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"\u5be6\u6cc1\u7a2e\u985e"),r.a.createElement("select",{className:"browser-default custom-select custom-select-lg mb-3",value:l,onChange:this.onListChange},u),r.a.createElement("label",null,"\u5be6\u6cc1\u7c21\u4ecb"),r.a.createElement("textarea",{type:"textarea",name:"stream_detail",placeholder:"\u5be6\u6cc1\u4ecb\u7d39",className:"form-control form-control-lg",value:this.state.stream_detail,onChange:this.onChange}))}return!0===o?(t=r.a.createElement("div",{className:"alert alert-success msg mt-3",role:"alert"},"\u5be6\u6cc1\u540d\u7a31\u66f4\u65b0\u6210\u529f"),setTimeout(function(){a.setState({updated:!1})},3e3)):t=null,r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-4 text-center"},"\u5be6\u6cc1\u8cc7\u8a0a"),r.a.createElement("p",{className:"lead text-center"},"\u4f60\u7684\u5be6\u6cc1\u91d1\u9470"),r.a.createElement("p",{className:"lead text-center"},"\u8acb\u63a8\u6d41\u81f3rtmp://www.wuhsun.com:1935/live"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:this.state.type,name:"stream_name",id:"streamKey",className:"form-control form-control-lg",value:this.props.auth.user.streamKey,readOnly:!0})),r.a.createElement("input",{type:"button",onClick:this.onClick,id:"streamBtn",value:this.state.value,className:"btn btn-danger btn-block mt-4"}),t,r.a.createElement("p",{className:"lead text-center mt-4"},"\u8f38\u5165\u4f60\u7684\u5be6\u6cc1\u8cc7\u6599"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("label",null,"\u5be6\u6cc1\u540d\u7a31"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:W()("form-control form-control-lg",{"is-invalid":m.stream_name}),placeholder:"\u5be6\u6cc1\u540d\u7a31",name:"stream_name",value:this.state.stream_name,onChange:this.onChange}),m.stream_name&&r.a.createElement("div",{className:"invalid-feedback"},m.stream_name)),r.a.createElement("div",{className:"form-group"},e),r.a.createElement("input",{type:"submit",id:"streamDataBtn",value:"\u66f4\u65b0",className:"btn btn-dark btn-block mt-4",onSubmit:this.onSubmit})),r.a.createElement(Pe,null))}}]),t}(n.Component),xe=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors,stream:e.stream}},{getStreamData:function(e){return function(t){E.a.get("/api/stream/data",e).then(function(e){return t({type:"GET_STREAM_DATA",payload:e.data})})}},setStreamData:function(e){return function(t){E.a.post("/api/stream/data",e).then(function(e){return t({type:"SET_STREAM_DATA",payload:e.data.stream_data})}).catch(function(e){return t({type:b,payload:e.response.data})})}},getStreamCateList:function(){return function(e){e({type:"STREAM_LOADING"}),E.a.get("/api/stream/cate").then(function(t){return e({type:"SET_STREAMCATE_LIST",payload:t.data})})}},clearState:function(){return{type:"CLEAR_USER_STREAM_SETTING"}}})(Ve),Xe=a(181),Me=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(I.a)({},t.target.name,t.target.value))},e.state={pay:!1,modal:!1},e.onClicka=e.onClicka.bind(Object(Q.a)(Object(Q.a)(e))),e.onClickb=e.onClickb.bind(Object(Q.a)(Object(Q.a)(e))),e.onClickc=e.onClickc.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.auth.isAuthenticated&&this.props.currnetCoin(this.props.auth.user.id)}},{key:"componentDidUpdate",value:function(){this.state.modal&&this.state.pay&&this.toggle(),this.props.coin.new||this.props.currnetCoin()}},{key:"onClicka",value:function(e){e.preventDefault(),this.props.buyCoin("a")}},{key:"onClickb",value:function(e){e.preventDefault(),this.props.buyCoin("b")}},{key:"onClickc",value:function(e){e.preventDefault(),this.props.buyCoin("c")}},{key:"render",value:function(){var e=this.props.coin.coin;return r.a.createElement("div",null,r.a.createElement(Xe.a,{onClick:this.toggle,href:"#"},"Buy Some Coins ?"),r.a.createElement(Ne.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Ce.a,{toggle:this.toggle},"Buy some Coins ?"),r.a.createElement(Se.a,null,r.a.createElement(z.a,{body:!0,className:"text-center mb-3"},r.a.createElement(se.a,null,"\u4f60\u76ee\u524d\u6709",e," \u500bCoin"),r.a.createElement(De.a,null,"\u8cfc\u8cb7Coin \u4f86\u6253\u8cde\u4f60\u559c\u6b61\u7684\u5be6\u6cc1\u4e3b\uff01")),r.a.createElement(z.a,{body:!0,className:"text-center mb-3"},r.a.createElement(se.a,null,"100 Coins"),r.a.createElement(De.a,null,"\u8cfc\u8cb7100\u500bCoins "),r.a.createElement(je.a,{onClick:this.onClicka},"$50.00")),r.a.createElement(z.a,{body:!0,className:"text-center mb-3"},r.a.createElement(se.a,null,"500 Coins"),r.a.createElement(De.a,null,"\u8cfc\u8cb7500\u500bCoins"),r.a.createElement(je.a,{onClick:this.onClickb},"$250.00")),r.a.createElement(z.a,{body:!0,className:"text-center mb-3"},r.a.createElement(se.a,null,"1000"),r.a.createElement(De.a,null,"\u8cfc\u8cb71000\u500bCoins"),r.a.createElement(je.a,{onClick:this.onClickc},"$500.00")))))}}]),t}(n.Component),Fe=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors,coin:e.coin}},{buyCoin:function(e){return function(t){E.a.post("/api/checkout/pay".concat(e,"/reserve")).then(function(e){window.open(e.data,"_blank"),t({type:"USER_BUY_COIN"})})}},currnetCoin:ye})(Me),Ge=a(182),Be=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={errors:{msg:null}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getOrderDetail({user_name:this.props.match.params.user_name})}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.props.coin,t=e.details,a=e.loading;return r.a.createElement("div",null,r.a.createElement("button",{style:{border:"1px #007BFF solid",backgroundColor:"#B2BAC4"},className:"btn btn-block"},r.a.createElement(Fe,null,"Buy Some Coins ?")),r.a.createElement("h1",null,"\u6211\u7684\u9ede\u6578\uff1a",this.props.coin.coin),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u8cfc\u8cb7\u8cc7\u6599\u6e96\u5099\u4e2d...."),r.a.createElement(oe,null)),"\u6c92\u6709\u8cfc\u9ede\u8cc7\u6599"===t.data?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"\u6c92\u6709\u8cfc\u9ede\u8cc7\u6599")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u8cfc\u9ede\u8cc7\u6599"),r.a.createElement(Ge.a,{dark:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u5546\u54c1\u540d\u7a31"),r.a.createElement("th",null,"\u91d1\u984d"),r.a.createElement("th",null,"\u8cfc\u8cb7\u9ede\u6578"),r.a.createElement("th",null,"\u4ed8\u6b3e\u72c0\u614b"))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row",key:e.id},e.id),r.a.createElement("td",null,e.productName),r.a.createElement("td",null,e.amount),r.a.createElement("td",null,e.coin),r.a.createElement("td",null,e.pay_succ?"\u6210\u529f":"\u5931\u6557"))})))))}}]),t}(n.Component),Ke=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors,stream:e.stream,coin:e.coin}},{getOrderDetail:function(){return function(e){e(Oe()),setTimeout(function(){E.a.get("/api/checkout/details").then(function(t){console.log("getOrderDetail",t),e({type:"GET_ORDER_DETAIL",payload:t.data})}).catch(function(t){return e({type:b,payload:t.response.data})})},500)}}})(Be),Qe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).toggle=function(){e.setState({modal:!e.state.modal,errors:{msg:""},email:""})},e.state={email:"",modal:!1,updated:!1,errors:{msg:""}},e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email};this.props.updateUserEmail(t)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.auth.updated&&this.setState({updated:e.auth.updated})}},{key:"render",value:function(){var e,t=this.state.errors.msg;return e=!0===this.state.updated?r.a.createElement("div",{className:"alert alert-success msg",role:"alert"},"\u4fe1\u7bb1\u66f4\u65b0\u6210\u529f\uff0c\u4e94\u79d2\u5f8c\u5c07\u6703\u767b\u51fa\uff0c\u8acb\u91cd\u65b0\u767b\u5165"):null,r.a.createElement("div",null,r.a.createElement(je.a,{className:"btn btn-block mb-3",onClick:this.toggle},"\u4fee\u6539\u6703\u54e1\u4fe1\u7bb1"),r.a.createElement(Ne.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Ce.a,null,"\u4fee\u6539\u6703\u54e1\u4fe1\u7bb1"),r.a.createElement(Se.a,null,r.a.createElement(we.a,{onSubmit:this.onSubmit},e,r.a.createElement("label",null,"\u586b\u5165\u65b0\u7684\u6703\u54e1\u4fe1\u7bb1"),r.a.createElement(ee.a,{name:"email",onChange:this.onChange,value:this.state.email,className:W()("",{"is-invalid":t.email})}),t.email&&r.a.createElement("div",{className:"invalid-feedback"},t.email),r.a.createElement(je.a,{type:"submit",className:"btn btn-block mt-3"},"\u66f4\u65b0")))))}}]),t}(n.Component),He=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors}},{updateUserEmail:function(e){return function(t){E.a.post("/api/user/email_change",e).then(function(e){t({type:"UPDATE_USER_EMAIL",payload:e.data}),setTimeout(function(){t(j())},5e3)}).catch(function(e){return t({type:b,payload:e.response.data})})}}})(Qe),We=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).toggle=function(){e.setState({updated:!1,modal:!e.state.modal,errors:{msg:""},img:"",preImg:""})},e.state={files:"",fileName:"",modal:!1,preImg:null,updated:!1,userImgLoading:!1,errors:{msg:""}},e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e.onChange=e.onChange.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){var t=this,a=e.target.files,n=new FileReader;n.readAsDataURL(a[0]),console.log(a[0]),n.onload=function(e){t.setState({preImg:e.target.result})},this.setState({fileName:a[0].name}),this.setState({files:a[0]})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({files:""}),this.props.updateUserImg(this.state.files)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.auth.updated&&this.setState({updated:e.auth.updated}),e.auth.userImgLoading&&this.setState({userImgLoading:e.auth.userImgLoading})}},{key:"render",value:function(){var e,t,a=this,n=this.state.errors.msg,o=this.state.updated;return!0===this.props.auth.userImgLoading?t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"\u8cc7\u6599\u4e0a\u50b3\u4e2d..."),r.a.createElement(oe,null)):(t=r.a.createElement(r.a.Fragment,null," "),!0===o&&(e=r.a.createElement("div",{className:"alert alert-success msg",role:"alert"},"\u7167\u7247\u66f4\u65b0\u6210\u529f\uff01\u91cd\u65b0\u767b\u5165\u5f8c\u5373\u53ef\u986f\u793a"))),r.a.createElement("div",null,r.a.createElement(je.a,{className:"btn btn-block mb-3",onClick:this.toggle},"\u4fee\u6539\u6703\u54e1\u7167\u7247"),r.a.createElement(Ne.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Ce.a,null,"\u4fee\u6539\u6703\u54e1\u7167\u7247"),r.a.createElement(Se.a,null,e,t,r.a.createElement("img",{src:this.state.preImg,alt:"user Img"}),r.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.onSubmit},r.a.createElement("label",null,"\u65b0\u7684\u6703\u54e1\u7167\u7247"),r.a.createElement(ee.a,{type:"file",name:"file",onChange:function(e){return a.onChange(e)},className:W()("",{"is-invalid":n.img})}),n.img&&r.a.createElement("div",{className:"invalid-feedback"},n.img),r.a.createElement(je.a,{type:"submit",className:"btn btn-block mt-3"},"\u66f4\u65b0")))))}}]),t}(n.Component),Je=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors}},{updateUserImg:function(e){return function(t){t(O()),console.log("action",e);var a=new FormData;a.append("file",e),function(e,t,a){return fetch(e,{body:t,headers:{Authorization:a},method:"POST"})}("https://www.wuhsun.com/api/user/img_change",a,localStorage.jwtToken).then(function(e){Promise.all([e,e.json()]).then(function(e){var a=Object(v.a)(e,2),n=(a[0],a[1]);t({type:"UPDATE_USER_IMG",payload:n})})}).catch(function(e){console.log(e),t({type:b,payload:e.response.data})})}}})(We),Ye=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u4fee\u6539\u500b\u4eba\u8cc7\u6599"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:this.props.auth.user.img,alt:"user img"}),r.a.createElement(Je,null)),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mb-3"},"\u66b1\u7a31: ",this.props.auth.user.name),r.a.createElement("div",null,"\u4fe1\u7bb1: ",this.props.auth.user.email))),r.a.createElement(He,null))))}}]),t}(n.Component),Ze=Object(C.b)(function(e){return{auth:e.auth}})(Ye),qe=(a(164),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={errors:{msg:null}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.setCurrentStream()}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.props.stream,t=e.loading,a=e.playlist;return null===a||t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u8cc7\u6599\u6e96\u5099\u4e2d...."),r.a.createElement(oe,null)):r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},0===a.length?r.a.createElement("h4",null,"\u76ee\u524d\u6c92\u6709\u76f4\u64ad\u5537"):a.map(function(e,t){return r.a.createElement(z.a,{className:"mb-3",body:!0,inverse:!0,style:{backgroundColor:"#333",borderColor:"#333"},key:t},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-3 "},r.a.createElement("img",{id:"stream_img",src:e.stream_img,alt:"stream img"})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement(se.a,{id:"stream_name",className:"border-bottom border-light pd-3"},r.a.createElement("strong",null,e.stream_name)),r.a.createElement("span",{id:"span_name"},e.stream_room),r.a.createElement(De.a,{className:"mb-3"},e.stream_detail))),r.a.createElement(d.b,{id:"link",className:"btn",to:"a."+e.stream_room},"\u76f4\u64ad\u9593"))})))))}}]),t}(n.Component)),ze=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors,stream:e.stream,coin:e.coin}},{setCurrentStream:function(){return function(e){e({type:"STREAM_LOADING"}),E.a.get("/api/stream/onstream").then(function(t){return e({type:"SET_CURRENT_STREAM",payload:t.data})}).catch(function(t){return e({type:b,payload:t.response.data})})}}})(qe),$e=(a(73),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={errors:{msg:""}},e.myVideo=r.a.createRef(),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.plusVideoViewsAmount({video_path:this.props.match.params.id});var e=this.myVideo.current;if(e&&be.a.isSupported()){var t=be.a.createPlayer({type:"mp4",url:"https://d6u0gq2utdlwf.cloudfront.net/project_2/video/"+this.props.match.params.id+".mp4"});t.attachMediaElement(e),t.load(),t.play()}}},{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("script",{src:"flv.min.js"}),r.a.createElement("div",{id:"card-containe"},r.a.createElement(z.a,null,r.a.createElement(le.a,{className:"cardbody"},r.a.createElement("video",{ref:this.myVideo,id:"videoElement",width:"100%",autoPlay:!0,controls:!0})),r.a.createElement(ce.a,{id:"card-footer",className:"text-muted"},r.a.createElement("div",{className:"card-footer-div"}),r.a.createElement("img",{id:"footer-img",src:a(42),alt:"eye icon"}),r.a.createElement("span",null,this.props.video.views[e])))))}}]),t}(n.Component)),et=Object(C.b)(function(e){return{auth:e.auth,video:e.video,errors:e.errors}},{plusVideoViewsAmount:function(e){return function(t){E.a.post("/api/video/plus",e).then(function(e){t({type:"USER_VIEW_VIDEO",payload:e.data})}).catch(function(e){return t({type:b,payload:e.response.data})})}}})($e),tt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserDonateDetails()}},{key:"render",value:function(){var e=this.props.auth,t=e.donateList,a=e.loading;return null===t||a?r.a.createElement("div",{className:"container"},r.a.createElement(oe,null),r.a.createElement("h5",{id:"loading"},"\u8cc7\u6599\u6e96\u5099\u4e2d...")):r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Donate Details"),r.a.createElement(Ge.a,{dark:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Donate to"),r.a.createElement("th",null,"Dollar"))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row",key:e.id},e.id),r.a.createElement("td",null,e.host),r.a.createElement("td",null,e.coin))})))))}}]),t}(n.Component),at=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors}},{getUserDonateDetails:function(){return function(e){e(N()),E.a.get("/api/donate/list").then(function(t){e({type:"USER_DONATE_DETAILS",payload:t.data})})}}})(tt),nt=a(183),rt=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={value:0,videoConditionText:"Pause",pauseCondition:!1,start:0,end:100,startpoint:0,endpoint:0,CurrentTime:0,duration:0,muted:!0,mutedTrue:"Sound on",mutedFalse:"Sound off",errors:{msg:""}},e.videoCondition=e.videoCondition.bind(Object(Q.a)(Object(Q.a)(e))),e.progressUpdate=e.progressUpdate.bind(Object(Q.a)(Object(Q.a)(e))),e.videochange=e.videochange.bind(Object(Q.a)(Object(Q.a)(e))),e.videoEndchange=e.videoEndchange.bind(Object(Q.a)(Object(Q.a)(e))),e.onSubmit=e.onSubmit.bind(Object(Q.a)(Object(Q.a)(e))),e.onmouseUp=e.onmouseUp.bind(Object(Q.a)(Object(Q.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.player;if(e&&be.a.isSupported()){var t=be.a.createPlayer({type:"mp4",url:"https://d6u0gq2utdlwf.cloudfront.net/project_2/video/"+this.props.match.params.id+".mp4"});t.attachMediaElement(e),t.load(),t.play()}}},{key:"componentWillReceiveProps",value:function(e){!1===e.video.editVideoload&&this.props.history.push("/")}},{key:"onSubmit",value:function(e){var t=this.props.match.params.id;e.preventDefault();var a=this.state,n=a.startpoint,r=a.endpoint,o=a.duration;if(0===n&&r===o)this.props.history.push("/");else if(r>n){var l={start:n,end:r,video_path:t};console.log(l),this.props.editVideo(l,this.props.history)}else{var s={start:r,end:n,video_path:t};console.log(s),this.props.editVideo(s,this.props.history)}}},{key:"sound",value:function(){!0===this.state.muted?this.setState({muted:!1}):this.setState({muted:!0})}},{key:"progressUpdate",value:function(){var e=this.refs.player;Math.floor(e.currentTime/e.duration*100)===Math.floor(this.state.end)&&e.pause(),this.setState({duration:e.duration,value:e.currentTime/e.duration*100,CurrentTime:e.currentTime})}},{key:"videoCondition",value:function(){var e=this.refs.player;this.state.pauseCondition?(e.currentTime===e.duration&&(e.currentTime=0,e.play()),e.play(),this.setState({videoConditionText:"Pause",pauseCondition:!1})):(e.pause(),this.setState({videoConditionText:"Play",pauseCondition:!0}))}},{key:"videochange",value:function(){var e=this.refs,t=e.player,a=e.customRange1.value/100*t.duration;console.log(a),t.currentTime=a,this.setState({CurrentTime:a,start:a/t.duration*100,startpoint:a})}},{key:"onmouseUp",value:function(){var e=this.state.startpoint,t=this.refs.player;t.currentTime=e,t.play()}},{key:"videoEndchange",value:function(){var e=this.refs,t=e.player,a=e.customRange2.value/100*t.duration;t.currentTime=a,this.setState({currentTime:a,end:a/t.duration*100,endpoint:a})}},{key:"render",value:function(){var e=this.state,t=e.pauseCondition,a=e.CurrentTime,n=e.muted,o=e.value,l=e.startpoint,s=e.start,i=e.end,c=e.mutedFalse,m=e.mutedTrue,u=e.videoConditionText,d=e.endpoint,p=e.duration,h=this.props.video.editVideoload;return r.a.createElement(r.a.Fragment,null,r.a.createElement("script",{src:"flv.min.js"}),r.a.createElement("div",{id:"card-containe"},r.a.createElement(z.a,null,r.a.createElement(le.a,{className:"cardbody"},r.a.createElement("video",{ref:"player",play:t.toString(),id:"videoElement",width:"100%",onTimeUpdate:this.progressUpdate,muted:n,autoPlay:!0}),r.a.createElement("label",null,"CurrentTime: ",Math.floor(a)),r.a.createElement(nt.a,{className:"mb-3",onChange:this.videochange,value:o}),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"\u5f71\u7247\u526a\u8f2f\u4e2d..."),r.a.createElement(oe,null)),r.a.createElement("label",{htmlFor:"customRange1"},"Start: ",Math.floor(l)),r.a.createElement("input",{type:"range",ref:"customRange1",className:"custom-range",min:"0",max:"100",id:"customRange1",onChange:this.videochange,value:s}),r.a.createElement("label",{htmlFor:"customRange1"},"End : ",0!==d?Math.floor(d):Math.floor(p)),r.a.createElement("input",{type:"range",ref:"customRange2",className:"custom-range",min:"0",max:"100",id:"customRange2",onChange:this.videoEndchange,onMouseUp:this.onmouseUp,value:i})),r.a.createElement(ce.a,{id:"card-footer",className:"text-muted"},r.a.createElement(je.a,{className:"mr-3",id:"mutebtn",onClick:this.sound.bind(this)},n?m:c),r.a.createElement(je.a,{className:"mr-3",onClick:this.videoCondition.bind(this)},u)))),r.a.createElement("form",{onSubmit:this.onSubmit},!h&&r.a.createElement(je.a,{className:"btn btn-block",type:"submit"},"Update")))}}]),t}(n.Component),ot=Object(C.b)(function(e){return{auth:e.auth,video:e.video,errors:e.errors}},{editVideo:function(e,t){return function(t){t(q()),E.a.post("/api/video/edit",e).then(function(e){t({type:"EDIT_VIDEO",payload:e.data})})}}})(Object(p.f)(rt));a(165);if(localStorage.jwtToken){f(localStorage.jwtToken);var lt=g()(localStorage.jwtToken);X.dispatch(y(lt));var st=Date.now()/1e3;lt.exp<st&&(X.dispatch(j()),window.location.href="/login")}var it=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{store:X},r.a.createElement(d.a,null,r.a.createElement("div",{id:"App",className:"App"},r.a.createElement(B,null),r.a.createElement(p.b,{exact:!0,path:"/",component:pe}),r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{exact:!0,path:"/video/:id",component:et}),r.a.createElement(p.b,{exact:!0,path:"/coin",component:Fe}),r.a.createElement(p.b,{exact:!0,path:"/register",component:ge}),r.a.createElement(p.b,{exact:!0,path:"/login",component:Ee}),r.a.createElement(p.b,{exact:!0,path:"/list",component:ze}),r.a.createElement(p.b,{exact:!0,path:"/edit/:id",component:ot}),r.a.createElement(p.d,null,r.a.createElement(F,{exact:!0,path:"/dashboard",component:xe})),r.a.createElement(p.d,null,r.a.createElement(F,{exact:!0,path:"/coindashboard",component:Ke})),r.a.createElement(p.d,null,r.a.createElement(F,{exact:!0,path:"/setting",component:Ze})),r.a.createElement(p.d,null,r.a.createElement(F,{exact:!0,path:"/donatelist",component:at}))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(p.b,{exact:!0,path:"/a.:user_name",component:Ie})),r.a.createElement(K,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfjBQIIExhCfQwLAAACnElEQVRIx+3Uz29UVRjG8c9M6/QHzDBmgLRQkClayxAQCkWaSAomaNKAETWyc2FcgCuILPQf0KgLEkGjgZDogrDAYK0JwbhoAv6IsW0oSCkhdFpoLfRmOtSmBGQ6LnopSNrEnS54dvd9z/3mnOe8z+GR/ntFZqmXWaDaXDHcMe4PI27/G0DEfPXqpVV53F8mMEepUcP69OgVKM4GiKjRoMFqGSlXdOmTR1LaWrUCPbp16nTtPuQ+IGmNzVZIqVGhXZszhsNeteds1+yWq3J6tOtyc6pVEi5ZqsVOi3W7ptQv9jttfBo+7oIecXf96ro1nhGTm0JMAWq94SWXfeaSTQr26w1/jYqE2w1kNYo55ke1XpB0VX4KsMQ7NjnqsCtekXHCaUSUW6ZOjXITCgjEbFDwnQ5Fr1rqvDESPtXhZXORctDnqkC5Jm369fvWRuWhF184IIW4HTockGCvQdtUgkZfejfc/JPanLLOet9rtTysvucrjaDSdoP2MGyfRNje6ohd4dmb9FsXYrOaRMFuR2wNVyfsMxT951jMOq3FGesRoj60V3N4hLxSSTBpxFkfaLTB+84aMRlOS6k8mKPZHh+RcFCHHeLTJlaHJm7UKiur1bPKwKKHTPxEosRt3ZZ4TdGAUctk/OkCCgI/O+m4Ey65A1qs95szFtppl598LCjBmF6VtqkTGFBvpYsC3DVqyKCcAsh406hWi73teT84ZODeJOZljVlti7gJaU/JCkBx2r6M3Ra6rM7rynztG/0PZuGmPkMqZNRbbpUnPCY3nYZFWrzlRfMkxZ13XLsbM8d5rQarrDRf30NxTgv87pxOXTPH+d53ytNWSKuSNOkWKkTlwwflotzsD8qDilmgSlwlJowZFoQ38Uj/Q/0NivXR+YLibi8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDUtMDJUMDY6MTk6MjQrMDI6MDDsJXXkAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA1LTAyVDA2OjE5OjI0KzAyOjAwnXjNWAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},73:function(e,t,a){},80:function(e,t,a){e.exports=a.p+"static/media/loading.c44b304d.gif"},82:function(e,t,a){e.exports=a(166)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.066e1145.chunk.js.map